INFO:blackpearld.init:configured log level to 'DEBUG' with success. Starting loop
INFO:blackpearld.init:raw proxy loaders: bonanza
INFO:blackpearld.init:parsed proxy loaders: ['bonanza']
INFO:blackpearl.loop:running 1 loops
INFO:blackpearl.loop:Running loop 0
DEBUG:root:Creating debug enabled with storage at dir: /app/tests/debug/IntegrationTests.test_should_get_bad_request
INFO:blackpearl.loop.Loop(0):Connecting input queue: neobot.transparencia-rj-input
DEBUG:pika.adapters.select_connection:Using EPollPoller
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0faecc8>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e837c8>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0fae708>>}
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_start of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e14f98>>}
INFO:pika.adapters.base_connection:Connecting to 172.17.0.6:5672
DEBUG:pika.callback:Processing 0:Connection.Start
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_start of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e14f98>>}
DEBUG:pika.callback:Calling <bound method Connection._on_connection_start of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e14f98>> for "0:Connection.Start"
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_tune of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e14f98>>}
DEBUG:pika.callback:Processing 0:Connection.Tune
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_tune of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e14f98>>}
DEBUG:pika.callback:Calling <bound method Connection._on_connection_tune of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e14f98>> for "0:Connection.Tune"
DEBUG:pika.connection:Creating a HeartbeatChecker: 580
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_open of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e14f98>>}
DEBUG:pika.callback:Processing 0:Connection.OpenOk
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_open of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e14f98>>}
DEBUG:pika.callback:Calling <bound method Connection._on_connection_open of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e14f98>> for "0:Connection.OpenOk"
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_closed of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e14f98>>}
DEBUG:pika.callback:Processing 0:_on_connection_open
DEBUG:pika.callback:Calling <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e837c8>> for "0:_on_connection_open"
DEBUG:pika.connection:Creating channel 1
DEBUG:pika.callback:Added: {'calls': 1, 'only': <pika.channel.Channel object at 0x7f41b716e7b8>, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_channel_cleanup of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e14f98>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method Channel._on_getempty of <pika.channel.Channel object at 0x7f41b716e7b8>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method Channel._on_cancel of <pika.channel.Channel object at 0x7f41b716e7b8>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method Channel._on_flow of <pika.channel.Channel object at 0x7f41b716e7b8>>}
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_close of <pika.channel.Channel object at 0x7f41b716e7b8>>}
DEBUG:pika.channel:Adding in on_synchronous_complete callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b716e7b8>>}
DEBUG:pika.channel:Adding passed in callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_openok of <pika.channel.Channel object at 0x7f41b716e7b8>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method BlockingChannel._on_consumer_cancelled_by_broker of <pika.adapters.blocking_connection.BlockingChannel object at 0x7f41b253a8d0>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method _CallbackResult.signal_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e20688>>}
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e20608>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e57448>>}
INFO:pika.adapters.blocking_connection:Created channel=1
DEBUG:pika.callback:Processing 1:Channel.OpenOk
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b716e7b8>>}
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_openok of <pika.channel.Channel object at 0x7f41b716e7b8>>}
DEBUG:pika.callback:Calling <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b716e7b8>> for "1:Channel.OpenOk"
DEBUG:pika.channel:0 blocked frames
DEBUG:pika.callback:Calling <bound method Channel._on_openok of <pika.channel.Channel object at 0x7f41b716e7b8>> for "1:Channel.OpenOk"
DEBUG:pika.channel:Adding in on_synchronous_complete callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b716e7b8>>}
DEBUG:pika.channel:Adding passed in callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method _CallbackResult.signal_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e202c8>>}
DEBUG:pika.callback:Processing 1:Basic.QosOk
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b716e7b8>>}
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method _CallbackResult.signal_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e202c8>>}
DEBUG:pika.callback:Calling <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b716e7b8>> for "1:Basic.QosOk"
DEBUG:pika.channel:0 blocked frames
DEBUG:pika.callback:Calling <bound method _CallbackResult.signal_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e202c8>> for "1:Basic.QosOk"
DEBUG:pika.channel:Adding in on_synchronous_complete callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': {'queue': 'neobot.transparencia-rj-input'}, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b716e7b8>>}
DEBUG:pika.channel:Adding passed in callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': {'queue': 'neobot.transparencia-rj-input'}, 'one_shot': True, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e202c8>>}
DEBUG:pika.callback:Processing 1:Queue.DeclareOk
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Comparing {'queue': 'neobot.transparencia-rj-input'} to {'queue': 'neobot.transparencia-rj-input'}
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': {'queue': 'neobot.transparencia-rj-input'}, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b716e7b8>>}
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Comparing {'queue': 'neobot.transparencia-rj-input'} to {'queue': 'neobot.transparencia-rj-input'}
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': {'queue': 'neobot.transparencia-rj-input'}, 'one_shot': True, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e202c8>>}
DEBUG:pika.callback:Calling <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b716e7b8>> for "1:Queue.DeclareOk"
DEBUG:pika.channel:0 blocked frames
DEBUG:pika.callback:Calling <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e202c8>> for "1:Queue.DeclareOk"
INFO:blackpearl.loop.Loop(0):Connecting output queue: neobot.transparencia-rj-input.results
DEBUG:pika.adapters.select_connection:Using EPollPoller
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e20348>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e20548>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e20448>>}
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_start of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>>}
INFO:pika.adapters.base_connection:Connecting to 172.17.0.6:5672
DEBUG:pika.callback:Processing 0:Connection.Start
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_start of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>>}
DEBUG:pika.callback:Calling <bound method Connection._on_connection_start of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>> for "0:Connection.Start"
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_tune of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>>}
DEBUG:pika.callback:Processing 0:Connection.Tune
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_tune of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>>}
DEBUG:pika.callback:Calling <bound method Connection._on_connection_tune of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>> for "0:Connection.Tune"
DEBUG:pika.connection:Creating a HeartbeatChecker: 580
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_open of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>>}
DEBUG:pika.callback:Processing 0:Connection.OpenOk
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_open of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>>}
DEBUG:pika.callback:Calling <bound method Connection._on_connection_open of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>> for "0:Connection.OpenOk"
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_connection_closed of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>>}
DEBUG:pika.callback:Processing 0:_on_connection_open
DEBUG:pika.callback:Calling <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e20548>> for "0:_on_connection_open"
DEBUG:pika.connection:Creating channel 1
DEBUG:pika.callback:Added: {'calls': 1, 'only': <pika.channel.Channel object at 0x7f41b0e41160>, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_channel_cleanup of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method Channel._on_getempty of <pika.channel.Channel object at 0x7f41b0e41160>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method Channel._on_cancel of <pika.channel.Channel object at 0x7f41b0e41160>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method Channel._on_flow of <pika.channel.Channel object at 0x7f41b0e41160>>}
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_close of <pika.channel.Channel object at 0x7f41b0e41160>>}
DEBUG:pika.channel:Adding in on_synchronous_complete callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0e41160>>}
DEBUG:pika.channel:Adding passed in callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_openok of <pika.channel.Channel object at 0x7f41b0e41160>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method BlockingChannel._on_consumer_cancelled_by_broker of <pika.adapters.blocking_connection.BlockingChannel object at 0x7f41b0e412b0>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method _CallbackResult.signal_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e1b988>>}
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e1ba08>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e1b908>>}
INFO:pika.adapters.blocking_connection:Created channel=1
DEBUG:pika.callback:Processing 1:Channel.OpenOk
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0e41160>>}
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_openok of <pika.channel.Channel object at 0x7f41b0e41160>>}
DEBUG:pika.callback:Calling <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0e41160>> for "1:Channel.OpenOk"
DEBUG:pika.channel:0 blocked frames
DEBUG:pika.callback:Calling <bound method Channel._on_openok of <pika.channel.Channel object at 0x7f41b0e41160>> for "1:Channel.OpenOk"
DEBUG:pika.channel:Adding in on_synchronous_complete callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0e41160>>}
DEBUG:pika.channel:Adding passed in callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method _CallbackResult.signal_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e20d88>>}
DEBUG:pika.callback:Processing 1:Basic.QosOk
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0e41160>>}
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method _CallbackResult.signal_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e20d88>>}
DEBUG:pika.callback:Calling <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0e41160>> for "1:Basic.QosOk"
DEBUG:pika.channel:0 blocked frames
DEBUG:pika.callback:Calling <bound method _CallbackResult.signal_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e20d88>> for "1:Basic.QosOk"
DEBUG:pika.channel:Adding in on_synchronous_complete callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': {'queue': 'neobot.transparencia-rj-input.results'}, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0e41160>>}
DEBUG:pika.channel:Adding passed in callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': {'queue': 'neobot.transparencia-rj-input.results'}, 'one_shot': True, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e20d88>>}
DEBUG:pika.callback:Processing 1:Queue.DeclareOk
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Comparing {'queue': 'neobot.transparencia-rj-input.results'} to {'queue': 'neobot.transparencia-rj-input.results'}
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': {'queue': 'neobot.transparencia-rj-input.results'}, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0e41160>>}
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Comparing {'queue': 'neobot.transparencia-rj-input.results'} to {'queue': 'neobot.transparencia-rj-input.results'}
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': {'queue': 'neobot.transparencia-rj-input.results'}, 'one_shot': True, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e20d88>>}
DEBUG:pika.callback:Calling <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0e41160>> for "1:Queue.DeclareOk"
DEBUG:pika.channel:0 blocked frames
DEBUG:pika.callback:Calling <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e20d88>> for "1:Queue.DeclareOk"
INFO:blackpearl.loop.Loop(0):We are connected, starting loop
INFO:blackpearl.loop.Loop(0):pop next input
DEBUG:tortuga.queue.<tortuga.queue.Queue object at 0x7f41b0fb1550>:pop method[<Basic.GetOk(['delivery_tag=1', 'exchange=', 'message_count=0', 'redelivered=False', 'routing_key=neobot.transparencia-rj-input'])>] body[b'{"wrong": 5, "__testname__": "IntegrationTests.test_should_get_bad_request", "index": 0}']
INFO:blackpearl.loop.Loop(0):parsing input as JSON
INFO:blackpearl.loop.Loop(0):parsed with success, running crawler
INFO:scrapy.middleware:Enabled extensions:
['scrapy.extensions.logstats.LogStats', 'scrapy.extensions.corestats.CoreStats']
INFO:blackpearl.crawler.<blackpearl.crawler.BlackPearlCrawler object at 0x7f41b0dd0eb8>:handling input: {'__testname__': 'IntegrationTests.test_should_get_bad_request', 'index': 0, 'wrong': 5}
INFO:transparencia-rj-input:Creating spider to crawl: {'__testname__': 'IntegrationTests.test_should_get_bad_request', 'index': 0, 'wrong': 5}
DEBUG:transparencia-rj-input:Received Request with input: {'__testname__': 'IntegrationTests.test_should_get_bad_request', 'index': 0, 'wrong': 5}
WARNING:blackpearl.crawler.<blackpearl.crawler.BlackPearlCrawler object at 0x7f41b0dd0eb8>:we have a failure on the start_crawling method
WARNING:blackpearl.crawler.<blackpearl.crawler.BlackPearlCrawler object at 0x7f41b0dd0eb8>:sending error output: [Failure instance: Traceback: <class 'tortuga.errors.InvalidInputError'>: 
/app/blackpearl/loop.py:169:_process_input
/app/blackpearl/crawler.py:31:__init__
/app/blackpearl/crawler.py:89:_process
/usr/lib/python3.5/site-packages/twisted/internet/defer.py:1445:unwindGenerator
--- <exception caught here> ---
/usr/lib/python3.5/site-packages/twisted/internet/defer.py:1299:_inlineCallbacks
/usr/lib/python3.5/site-packages/scrapy/crawler.py:71:crawl
/usr/lib/python3.5/site-packages/scrapy/crawler.py:94:_create_spider
/usr/lib/python3.5/site-packages/scrapy/spiders/__init__.py:50:from_crawler
/app/blackpearl/core/basespider.py:10:__init__
/app/bot/spider.py:36:start_crawling
/app/bot/parser.py:11:validate_input
]
DEBUG:blackpearl.crawler.<blackpearl.crawler.BlackPearlCrawler object at 0x7f41b0dd0eb8>:Generated output: {'status': {'code': 400, 'detail': 'Bad Request'}, 'metadata': {'input': {'__testname__': 'IntegrationTests.test_should_get_bad_request', 'index': 0, 'wrong': 5}, 'processingTimestamp': '2017-02-13T10:41:08Z'}}
DEBUG:blackpearl.crawler.<blackpearl.crawler.BlackPearlCrawler object at 0x7f41b0dd0eb8>:Output has been produced before a call to get_output()
WARNING:blackpearl.crawler.<blackpearl.crawler.BlackPearlCrawler object at 0x7f41b0dd0eb8>:finishing the crawler
INFO:blackpearl.crawler.<blackpearl.crawler.BlackPearlCrawler object at 0x7f41b0dd0eb8>:lets finish the process
INFO:blackpearl.loop.Loop(0):Getting next output
DEBUG:blackpearl.crawler.<blackpearl.crawler.BlackPearlCrawler object at 0x7f41b0dd0eb8>:We have a pending output, returning it
DEBUG:blackpearl.loop.Loop(0):Produced output: {'status': {'code': 400, 'detail': 'Bad Request'}, 'metadata': {'input': {'__testname__': 'IntegrationTests.test_should_get_bad_request', 'index': 0, 'wrong': 5}, 'processingTimestamp': '2017-02-13T10:41:08Z'}}
DEBUG:pika.connection:Creating channel 2
DEBUG:pika.callback:Added: {'calls': 1, 'only': <pika.channel.Channel object at 0x7f41b0d5a9e8>, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_channel_cleanup of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method Channel._on_getempty of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method Channel._on_cancel of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method Channel._on_flow of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_close of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.channel:Adding in on_synchronous_complete callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.channel:Adding passed in callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_openok of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method BlockingChannel._on_consumer_cancelled_by_broker of <pika.adapters.blocking_connection.BlockingChannel object at 0x7f41b0d5ab00>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method _CallbackResult.signal_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0d64f08>>}
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0d64f48>>}
DEBUG:pika.callback:Added: {'only': None, 'arguments': None, 'one_shot': False, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0d64f88>>}
INFO:pika.adapters.blocking_connection:Created channel=2
DEBUG:pika.callback:Processing 2:Channel.OpenOk
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_openok of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.callback:Calling <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0d5a9e8>> for "2:Channel.OpenOk"
DEBUG:pika.channel:0 blocked frames
DEBUG:pika.callback:Calling <bound method Channel._on_openok of <pika.channel.Channel object at 0x7f41b0d5a9e8>> for "2:Channel.OpenOk"
DEBUG:pika.channel:Adding in on_synchronous_complete callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': {'queue': 'neobot.transparencia-rj-input.results'}, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.channel:Adding passed in callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': {'queue': 'neobot.transparencia-rj-input.results'}, 'one_shot': True, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0d64708>>}
DEBUG:pika.callback:Processing 2:Queue.DeclareOk
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Comparing {'queue': 'neobot.transparencia-rj-input.results'} to {'queue': 'neobot.transparencia-rj-input.results'}
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': {'queue': 'neobot.transparencia-rj-input.results'}, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Comparing {'queue': 'neobot.transparencia-rj-input.results'} to {'queue': 'neobot.transparencia-rj-input.results'}
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': {'queue': 'neobot.transparencia-rj-input.results'}, 'one_shot': True, 'callback': <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0d64708>>}
DEBUG:pika.callback:Calling <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0d5a9e8>> for "2:Queue.DeclareOk"
DEBUG:pika.channel:0 blocked frames
DEBUG:pika.callback:Calling <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0d64708>> for "2:Queue.DeclareOk"
DEBUG:tortuga.queue.<tortuga.queue.Queue object at 0x7f41b0e14978>:queue len: 0
INFO:pika.adapters.blocking_connection:Channel.close(0, Normal Shutdown)
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method _CallbackResult.signal_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0d64708>>}
INFO:pika.channel:Channel.close(0, Normal Shutdown)
DEBUG:pika.channel:Adding in on_synchronous_complete callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.channel:Adding passed in callback
DEBUG:pika.callback:Added: {'calls': 1, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_closeok of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.callback:Processing 2:Channel.CloseOk
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method _CallbackResult.signal_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0d64708>>}
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': None, 'arguments': None, 'one_shot': True, 'callback': <bound method Channel._on_closeok of <pika.channel.Channel object at 0x7f41b0d5a9e8>>}
DEBUG:pika.callback:Calling <bound method _CallbackResult.signal_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0d64708>> for "2:Channel.CloseOk"
DEBUG:pika.callback:Calling <bound method Channel._on_synchronous_complete of <pika.channel.Channel object at 0x7f41b0d5a9e8>> for "2:Channel.CloseOk"
DEBUG:pika.channel:0 blocked frames
DEBUG:pika.callback:Calling <bound method Channel._on_closeok of <pika.channel.Channel object at 0x7f41b0d5a9e8>> for "2:Channel.CloseOk"
DEBUG:pika.callback:Processing 2:_on_channel_cleanup
DEBUG:pika.callback:Processing use of oneshot callback
DEBUG:pika.callback:0 registered uses left
DEBUG:pika.callback:Removing callback #0: {'calls': 0, 'only': <pika.channel.Channel object at 0x7f41b0d5a9e8>, 'arguments': None, 'one_shot': True, 'callback': <bound method Connection._on_channel_cleanup of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>>}
DEBUG:pika.callback:Calling <bound method Connection._on_channel_cleanup of <pika.adapters.select_connection.SelectConnection object at 0x7f41b0e41048>> for "2:_on_channel_cleanup"
DEBUG:pika.connection:Removed channel 2
DEBUG:pika.callback:Clearing out '2' from the stack
INFO:blackpearl.loop.Loop(0):Pushed output
DEBUG:blackpearl.loop.Loop(0):sending metrics for this crawling
DEBUG:blackpearl.loop.Loop(0):done
INFO:blackpearl.loop.Loop(0):pop next input
DEBUG:pika.callback:Processing 1:Basic.GetEmpty
DEBUG:pika.callback:Calling <bound method Channel._on_getempty of <pika.channel.Channel object at 0x7f41b716e7b8>> for "1:Basic.GetEmpty"
DEBUG:pika.channel:Received Basic.GetEmpty: <METHOD(['channel_number=1', 'frame_type=1', "method=<Basic.GetEmpty(['cluster_id='])>"])>
DEBUG:pika.callback:Calling <bound method _CallbackResult.set_value_once of <pika.adapters.blocking_connection._CallbackResult object at 0x7f41b0e57448>> for "1:Basic.GetEmpty"
